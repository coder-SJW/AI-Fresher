---
name: sjw-requirement-analysis
description: 本技能用于分析项目需求并生成结构化的需求分析文档。当用户要求"分析需求"、"拆解需求"、"生成需求文档"或需要基于用户需求提供功能设计指导时，使用此技能。此技能将高层次的需求转化为指导功能设计的结构化文档。
---

# SJW 需求分析

## 概述

本技能提供了一套系统化的工作流程，用于分析项目需求并生成全面的需求分析文档。使用此技能可以将高层次的用户需求转化为结构化文档，包括需求背景、功能拆解、非功能性需求和技术实现指导。

## 工作流程决策树

```
开始需求分析
    │
    ├─ 是否有明确的需求描述？
    │   ├─ 是 → 继续分析
    │   └─ 否 → 先通过提问澄清需求
    │
    ├─ 是否需要分析现有代码？
    │   ├─ 是 → 先探索代码库结构
    │   └─ 否 → 直接基于需求描述分析
    │
    └─ 输出格式
        ├─ Markdown 文档（推荐）
        └─ 结构化分析报告
```

## 分析工作流程

### 步骤 1：需求收集与澄清

在开始分析之前，收集完整的需求信息：

1. **初始输入评估**
   - 仔细阅读用户的需求描述
   - 识别不明确或模棱两可的点
   - 检查是否缺失关键信息

2. **需求澄清**
   - 针对不明确的需求提出具体问题
   - 确认业务目标和成功标准
   - 识别目标用户和使用场景
   - 了解约束条件（时间、预算、技术）

3. **上下文信息收集**
   - 如果在现有项目中工作，探索相关代码结构
   - 识别将要交互的现有系统或组件
   - 了解当前的技术架构

### 步骤 2：需求背景与目标

记录需求的基础背景：

**背景分析：**
- 业务背景和动机
- 当前的痛点或问题
- 推动该需求的市场或用户需求

**目标定义：**
- 主要业务目标
- 成功标准（尽可能可衡量）
- 目标用户群体和用户画像
- 预期成果和收益

**范围定义：**
- 范围内项目（将要交付的内容）
- 范围外项目（明确排除的内容）
- 假设和依赖关系

### 步骤 3：功能需求拆解

将高层次需求拆解为可执行的功能组件：

**拆解过程：**
1. **史诗级别（Epic Level）** - 主要功能领域
2. **功能级别（Feature Level）** - 每个史诗中的具体功能
3. **用户故事级别（User Story Level）** - 详细的面向用户的能力
4. **任务级别（Task Level）** - 实施任务

对于每个功能需求，记录：

```markdown
### [功能名称]

**用户故事：** 作为[用户类型]，我想要[操作]，以便[收益]

**功能描述：** 详细描述该功能的作用

**验收标准：**
- [ ] 标准 1
- [ ] 标准 2
- [ ] 标准 3

**依赖关系：**
- 相关功能或组件
- 前置功能

**优先级：** [高/中/低]
**估算复杂度：** [低/中/高]
```

**拆解原则：**
- 每个功能应独立可理解
- 使用 INVEST 标准（独立的、可协商的、有价值的、可估算的、小型的、可测试的）
- 识别功能依赖关系和关联
- 考虑实施顺序

### 步骤 4：非功能性需求

定义质量属性和约束条件：

**性能需求：**
- 响应时间目标
- 吞吐量需求
- 并发用户容量
- 资源利用限制

**安全需求：**
- 身份验证和授权需求
- 数据保护需求
- 合规要求（GDPR、SOC2 等）
- 需遵循的安全标准

**可用性需求：**
- 用户界面标准
- 无障碍访问需求
- 用户体验期望
- 设备/平台支持

**可靠性和可用性：**
- 正常运行时间需求
- 错误率容忍度
- 恢复时间目标
- 数据备份和保留

**可扩展性需求：**
- 预期增长模式
- 负载下的性能
- 基础设施扩展需求

**可维护性需求：**
- 代码质量标准
- 文档需求
- 测试需求
- 部署和运维考虑

### 步骤 5：技术实现指导

提供架构和技术建议：

**架构建议：**
- 系统架构建议
- 组件设计模式
- 数据流和集成点
- 技术栈考虑

**技术考虑：**
- 关键技术挑战和解决方案
- 与现有系统的集成
- 数据存储和管理
- API 设计（如适用）

**实施阶段：**
- MVP（最小可行产品）范围
- 增量交付计划
- 功能依赖关系和顺序
- 风险缓解策略

**开发标准：**
- 编码标准和约定
- 测试方法和覆盖率
- 文档需求
- 代码审查流程

### 步骤 6：文档输出

生成结构化的需求分析文档，格式如下：

```markdown
# [项目名称]需求分析

**文档版本：** 1.0
**最后更新：** [日期]
**作者：** AI 助手

## 执行摘要
[需求分析的 2-3 段概述]

## 1. 背景与目标

### 1.1 背景
[业务背景和动机]

### 1.2 目标
[主要业务目标和成功标准]

### 1.3 范围
- 范围内：[包含的项目]
- 范围外：[排除的项目]

## 2. 功能需求

### 2.1 [史诗/功能领域 1]
[包含用户故事和验收标准的功能拆解]

### 2.2 [史诗/功能领域 2]
[包含用户故事和验收标准的功能拆解]

## 3. 非功能性需求

### 3.1 性能
[性能需求]

### 3.2 安全
[安全需求]

### 3.3 可用性
[可用性需求]

### 3.4 可靠性和可用性
[可靠性需求]

### 3.5 可扩展性
[可扩展性需求]

### 3.6 可维护性
[可维护性需求]

## 4. 技术实现指导

### 4.1 架构建议
[架构建议]

### 4.2 技术考虑
[关键技术挑战和解决方案]

### 4.3 实施阶段
[分阶段交付计划]

### 4.4 开发标准
[标准和最佳实践]

## 5. 风险和考虑

### 5.1 技术风险
[已识别的技术风险]

### 5.2 业务风险
[已识别的业务风险]

### 5.3 缓解策略
[风险缓解方法]

## 6. 下一步
[推进实施的推荐行动]
```

## 最佳实践

**分析需求时：**
- 深入理解需求背后的"原因"，而不仅仅是"内容"
- 识别用户可能未明确表达的隐含需求
- 考虑边界情况和错误场景
- 思考维护和运维需求

**编写文档时：**
- 使用清晰、无歧义的语言
- 尽可能具体和可衡量
- 为复杂需求包含示例
- 维护从业务目标到具体功能的可追溯性
- 适当使用可视化图表（流程图、序列图等）

**提供技术指导时：**
- 考虑现有项目上下文和约束条件
- 建议经过验证的稳定技术，而非未经证实的尖端技术
- 在理想解决方案和实际约束之间取得平衡
- 当存在多种有效方法时，提供具有权衡的选项

**常见陷阱：**
- 在完全理解问题之前不要假设技术解决方案
- 不要忽略非功能性需求——它们往往决定成功
- 不要过早创建过于详细的规范；允许在开发过程中探索
- 不要忘记运维需求（监控、日志、告警）

## 质量检查清单

在完成需求分析之前，验证：

- [ ] 所有业务目标均已明确定义
- [ ] 成功标准可衡量
- [ ] 范围边界清晰（范围内 vs. 范围外）
- [ ] 功能需求已拆解到可执行级别
- [ ] 每个功能都有清晰的验收标准
- [ ] 非功能性需求已识别和明确
- [ ] 技术考虑考虑了现有系统上下文
- [ ] 实施阶段切合实际
- [ ] 已识别风险并有缓解策略
- [ ] 下一步行动清晰且可执行
